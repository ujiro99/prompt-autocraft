# プロンプト改善箇所の説明機能 設計書

## 機能概要

プロンプト改善箇所の説明機能は、プロンプト改善機能により提示したプロンプトに対して、
どの部分
をどう改善し、その結果どのようなベネフィットがあるかを具体的に説明する機能である。

これにより、以下の利点がある。

- ユーザーは改善点を理解しやすくなり、納得感が高まる。
- 改善点が意図しないものであった場合、ユーザーが修正しやすくなる
- ユーザーは自身でプロンプトを改善するスキルを向上させることができる。

## 機能要件

1. **改善点の特定**
   - プロンプト改善機能が提示した改善点を特定し、どの部分が変更されたかを明確にする。
   - ImproverService.improvePrompt の、changeLog 情報を利用する。

2. **改善点の表示**
   - 改善点をユーザーにわかりやすく表示する。
   - @src/components/inputMenu/controller/PromptImproverDialog.tsx で、改善後プロンプトの右側に表示する。
   - 各改善点(ImproveLog)について、以下の情報を含める。
     - 変更点の簡潔な説明: description
     - 変更後の行: start_line, end_line
     - 変更のもたらすベネフィット: benefit

3. **ユーザーインターフェース**
   - 各改善点はカード形式で表示し、視覚的に区別できるようにする。
     - src/components/ui/card.tsx
   - 各改善点の示す行範囲を、プロンプト表示欄の右側にバーでハイライト表示する。
   - 改善点カードと、バーの間は直線により結ぶ
   - 範囲が重複する場合は、重なりを視覚的に区別できるようにする。
   - 改善点カードをクリックすると、対応する行範囲にスクロールする
   - 改善点カードをホバーすると、以下の効果を適用する
     - 対応するバーが強調表示される
     - 対象の行範囲が塗りの角丸矩形により強調表示される
